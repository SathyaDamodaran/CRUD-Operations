extends ../layout

block content
   if deletemsg
      p.deletemsg=deletemsg
   if successMsg
      p.successMsg=successMsg    
   h1.header Products
   table.table.table-bordered
       tr.row-heading
           td ID
           td TITLE
           td PRICE
           td STOCK
           td EDIT
           td DELETE 
           td ADD PRODUCT TO CART
           
        each product in products
            tr
                td=product.id
                td=product.title
                td=product.price
                if(product.stock == 0)
                    td NO STOCK
                else
                    if (product.quantity > 0)
                        td=product.stock-product.quantity 
                    else
                        td=product.stock 
                td 
                    a(href=`/products/edit/${product.id}`).btn.btn-success Edit 
                td    
                    a(href=`/products/del/${product.id}`).btn.btn-danger Delete

                if(product.stock == 0)
                   td
                     a(href=`/products/addProduct/${product.id}` class="disable").btn.btn-success AddProductToCart
                else
                   td
                     a(href=`/products/addProduct/${product.id}`).btn.btn-success AddProductToCart     
               
                